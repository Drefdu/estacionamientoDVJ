"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4381],{4381:(O,u,l)=>{l.r(u),l.d(u,{EstacionamientosPageModule:()=>q});var p=l(6814),m=l(95),a=l(6728),g=l(1379),_=l(5861),o=l(5678);let v=(()=>{var t;class c{constructor(i){this.popoverController=i}hola(i,n,s,r){this.popoverController.dismiss({op1:1==i.checked?i.value:"",op2:1==n.checked?n.value:"",op3:1==s.checked?s.value:"",op4:1==r.checked?r.value:""})}}return(t=c).\u0275fac=function(i){return new(i||t)(o.Y36(a.Dh))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-popover"]],inputs:{opciones:"opciones"},decls:26,vars:5,consts:[[1,"ion-padding"],[3,"inset"],["lines","none"],["slot","start","value","favoritos",3,"checked"],["op1",""],["slot","start","value","discapacitados",3,"checked"],["op2",""],["slot","start","value","ocupados",3,"checked"],["op3",""],["slot","start","value","libres",3,"checked"],["op4",""],["fill","block",3,"click"]],template:function(i,n){if(1&i){const s=o.EpF();o.TgZ(0,"ion-content",0)(1,"h2"),o._uU(2,"Filtros"),o.qZA(),o.TgZ(3,"ion-list",1)(4,"ion-item",2),o._UZ(5,"ion-checkbox",3,4),o.TgZ(7,"ion-label"),o._uU(8,"Favoritos"),o.qZA()(),o.TgZ(9,"ion-item",2),o._UZ(10,"ion-checkbox",5,6),o.TgZ(12,"ion-label"),o._uU(13,"Discapacitados"),o.qZA()(),o.TgZ(14,"ion-item",2),o._UZ(15,"ion-checkbox",7,8),o.TgZ(17,"ion-label"),o._uU(18,"Ocupados"),o.qZA()(),o.TgZ(19,"ion-item",2),o._UZ(20,"ion-checkbox",9,10),o.TgZ(22,"ion-label"),o._uU(23,"Libres"),o.qZA()()(),o.TgZ(24,"ion-button",11),o.NdJ("click",function(){o.CHM(s);const d=o.MAs(6),M=o.MAs(11),y=o.MAs(16),F=o.MAs(21);return o.KtG(n.hola(d,M,y,F))}),o._uU(25,"Aceptar"),o.qZA()()}2&i&&(o.xp6(3),o.Q6J("inset",!1),o.xp6(2),o.Q6J("checked","favoritos"==n.opciones.op1),o.xp6(5),o.Q6J("checked","discapacitados"==n.opciones.op2),o.xp6(5),o.Q6J("checked","ocupados"==n.opciones.op3),o.xp6(5),o.Q6J("checked","libres"==n.opciones.op4))},dependencies:[a.YG,a.nz,a.W2,a.Ie,a.Q$,a.q_,a.w]}),c})();var f=l(6751);const Z=["miDiv"];function h(t,c){if(1&t){const e=o.EpF();o.TgZ(0,"div",18)(1,"ion-card",19)(2,"ion-card-header")(3,"ion-card-title"),o._uU(4),o.qZA()(),o.TgZ(5,"ion-card-content")(6,"ion-text"),o._uU(7),o.qZA(),o._UZ(8,"br"),o.TgZ(9,"ion-text"),o._uU(10),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"ion-text"),o._uU(13,"Uso: Libre"),o.qZA()(),o.TgZ(14,"ion-item",20)(15,"ion-button",21),o.NdJ("click",function(){const s=o.CHM(e).$implicit,r=o.oxw(2);return o.KtG(r.addFavoritos(s._id,s.favorito))}),o._UZ(16,"ion-icon",22),o.qZA()()()()}if(2&t){const e=c.$implicit;o.xp6(4),o.hij("Numero: ",e.numero,""),o.xp6(3),o.hij("Estacionamiento: ",e.estacionamiento,""),o.xp6(3),o.hij("Estado: ",e.estado,"")}}function b(t,c){if(1&t&&(o.TgZ(0,"div")(1,"h4"),o._uU(2,"Puestos favoritos:"),o.qZA(),o.TgZ(3,"div",16),o.YNc(4,h,17,3,"div",17),o.qZA()()),2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.favoritos)}}function T(t,c){1&t&&(o.TgZ(0,"div")(1,"h4"),o._uU(2,"Puestos para discapacitados:"),o.qZA()())}function x(t,c){if(1&t){const e=o.EpF();o.TgZ(0,"div",18)(1,"ion-card",23)(2,"ion-card-header")(3,"ion-card-title"),o._uU(4),o.qZA()(),o.TgZ(5,"ion-card-content")(6,"ion-text"),o._uU(7),o.qZA(),o._UZ(8,"br"),o.TgZ(9,"ion-text"),o._uU(10),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"ion-text"),o._uU(13),o.qZA(),o._UZ(14,"br"),o.TgZ(15,"ion-text"),o._uU(16,"Uso: Libre"),o.qZA()(),o.TgZ(17,"ion-item",20)(18,"ion-button",21),o.NdJ("click",function(){const s=o.CHM(e).$implicit,r=o.oxw(2);return o.KtG(r.addFavoritos(s._id,s.favorito))}),o._UZ(19,"ion-icon",24),o.qZA()()()()}if(2&t){const e=c.$implicit;o.xp6(4),o.hij("Numero: ",e.numero,""),o.xp6(3),o.hij("Estacionamiento: ",e.estacionamiento,""),o.xp6(3),o.hij("Seccion: ",e.seccion,""),o.xp6(3),o.hij("Estado: ",e.estado,"")}}function P(t,c){if(1&t&&(o.TgZ(0,"div")(1,"h4"),o._uU(2,"Puestos libres:"),o.qZA(),o.TgZ(3,"div",16),o.YNc(4,x,20,4,"div",17),o.qZA()()),2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.libres)}}function U(t,c){if(1&t){const e=o.EpF();o.TgZ(0,"div",18)(1,"ion-card",25)(2,"ion-card-header")(3,"ion-card-title"),o._uU(4),o.qZA()(),o.TgZ(5,"ion-card-content")(6,"ion-text"),o._uU(7),o.qZA(),o._UZ(8,"br"),o.TgZ(9,"ion-text"),o._uU(10),o.qZA(),o._UZ(11,"br"),o.TgZ(12,"ion-text"),o._uU(13),o.qZA(),o._UZ(14,"br"),o.TgZ(15,"ion-text"),o._uU(16,"Uso: Libre"),o.qZA()(),o.TgZ(17,"ion-item",20)(18,"ion-button",21),o.NdJ("click",function(){const s=o.CHM(e).$implicit,r=o.oxw(2);return o.KtG(r.addFavoritos(s._id,s.favorito))}),o._UZ(19,"ion-icon",26),o.qZA()()()()}if(2&t){const e=c.$implicit;o.xp6(4),o.hij("Numero: ",e.numero,""),o.xp6(3),o.hij("Estacionamiento: ",e.estacionamiento,""),o.xp6(3),o.hij("Seccion: ",e.seccion,""),o.xp6(3),o.hij("Estado: ",e.estado,"")}}function A(t,c){if(1&t&&(o.TgZ(0,"div")(1,"h4"),o._uU(2,"Puestos ocupados:"),o.qZA(),o.TgZ(3,"div",16),o.YNc(4,U,20,4,"div",17),o.qZA()()),2&t){const e=o.oxw();o.xp6(4),o.Q6J("ngForOf",e.ocupados)}}const C=[{path:"",component:(()=>{var t;class c{constructor(i,n,s){this.popoverController=i,this.database=n,this.cdr=s,this.contenido="\xa1Hola!",this.opciones={op1:"favoritos",op2:"discapacitados",op3:"ocupados",op4:"libres"},this.puestos=[],this.seccion=[],this.libres=[],this.ocupados=[],this.favoritos=[],this.discapacitados=[]}ngOnInit(){this.getEstacionamientos()}getEstacionamientos(){var i=this;return(0,_.Z)(function*(){(yield i.database.getEstacionamiento()).subscribe(n=>{i.puestos=n,console.log(i.puestos)},n=>{console.log(n)})})()}filtrarSeccion(i){let n=i.detail.value;this.seccion=this.puestos.filter(s=>s.seccion==n),this.filtrarLibres(),this.filtrarOcupados(),this.filtrarFavoritos(),this.cdr.detectChanges()}filtrarLibres(){this.libres=this.seccion.filter(i=>"Desocupado"==i.estado&&0==i.favorito)}filtrarOcupados(){this.ocupados=this.seccion.filter(i=>"Ocupado"==i.estado&&0==i.favorito)}filtrarFavoritos(){this.favoritos=this.seccion.filter(i=>1==i.favorito)}addFavoritos(i,n){let s=[...this.puestos],r=s.findIndex(d=>d._id===i);s[r].favorito=!n,console.log(s[r],r),this.filtrarLibres(),this.filtrarOcupados(),this.filtrarFavoritos(),this.cdr.detectChanges()}cambiarContenido(){this.contenido="\xbfQu\xe9 tal?"==this.contenido?"Hola":"\xbfQu\xe9 tal?"}presentPopover(i){var n=this;return(0,_.Z)(function*(){const s=yield n.popoverController.create({component:v,event:i,componentProps:{opciones:n.opciones}});yield s.present();const{data:r}=yield s.onDidDismiss();n.opciones=r||n.opciones})()}}return(t=c).\u0275fac=function(i){return new(i||t)(o.Y36(a.Dh),o.Y36(f.k),o.Y36(o.sBO))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-estacionamientos"]],viewQuery:function(i,n){if(1&i&&o.Gf(Z,5),2&i){let s;o.iGM(s=o.CRH())&&(n.miDiv=s.first)}},decls:34,vars:6,consts:[[3,"translucent"],["color","principal"],["slot","end"],["id","popover-button",3,"click"],["name","filter-outline","slot","icon-only"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"d-flex","justify-content-center","w-100","fondo"],[1,"body"],[3,"ionChange"],["slot","label"],["value","A"],["value","B"],["value","C"],[4,"ngIf"],[1,"row","d-flex","flex-wrap"],["class","col-12 col-sm-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-3"],[1,"favorito"],["lines","none"],["fill","clear","slot","end",3,"click"],["name","star","slot","icon-only","color","dark"],[1,"libre"],["name","star-outline","slot","icon-only","color","dark"],[1,"ocupado"],["name","star-outline","slot","icon-only"]],template:function(i,n){1&i&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),o._uU(3,"estacionamientos"),o.qZA(),o.TgZ(4,"ion-buttons",2)(5,"ion-button",3),o.NdJ("click",function(r){return n.presentPopover(r)}),o._UZ(6,"ion-icon",4),o.qZA()()()(),o.TgZ(7,"ion-content",5)(8,"ion-header",6)(9,"ion-toolbar",1)(10,"ion-title",7),o._uU(11,"estacionamientos"),o.qZA()()(),o.TgZ(12,"div",8)(13,"div",9)(14,"h2"),o._uU(15,"Por favor ingrese una seccion: "),o.qZA(),o.TgZ(16,"ion-list")(17,"ion-item")(18,"ion-select",10),o.NdJ("ionChange",function(r){return n.filtrarSeccion(r)}),o.TgZ(19,"div",11),o._uU(20,"Seccion"),o._UZ(21,"ion-text"),o.qZA(),o.TgZ(22,"ion-select-option",12),o._uU(23,"A"),o.qZA(),o.TgZ(24,"ion-select-option",13),o._uU(25,"B"),o.qZA(),o.TgZ(26,"ion-select-option",14),o._uU(27,"C"),o.qZA()()()(),o.TgZ(28,"h3"),o._uU(29,"Puestos de estacionamientos: 10"),o.qZA(),o.YNc(30,b,5,1,"div",15)(31,T,3,0,"div",15)(32,P,5,1,"div",15)(33,A,5,1,"div",15),o.qZA()()()),2&i&&(o.Q6J("translucent",!0),o.xp6(7),o.Q6J("fullscreen",!0),o.xp6(23),o.Q6J("ngIf","favoritos"==n.opciones.op1),o.xp6(1),o.Q6J("ngIf","discapacitados"==n.opciones.op2),o.xp6(1),o.Q6J("ngIf","libres"==n.opciones.op4),o.xp6(1),o.Q6J("ngIf","ocupados"==n.opciones.op3))},dependencies:[p.sg,p.O5,a.YG,a.Sm,a.PM,a.FN,a.Zi,a.Dq,a.W2,a.Gu,a.gu,a.Ie,a.q_,a.t9,a.n0,a.yW,a.wd,a.sr,a.QI],styles:['.fondo[_ngcontent-%COMP%]{background:rgb(211,231,241);background:-webkit-gradient(left top,right bottom,color-stop(0%,rgb(211,231,241)),color-stop(27%,rgb(211,231,241)),color-stop(69%,rgb(147,206,222)),color-stop(100%,rgb(73,165,191)));background:linear-gradient(135deg,rgb(211,231,241) 0%,rgb(211,231,241) 27%,rgb(147,206,222) 69%,rgb(73,165,191) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#d3e7f1",endColorstr="#49a5bf",GradientType=1);min-height:100%}.body[_ngcontent-%COMP%]{width:90%}.favorito[_ngcontent-%COMP%]{background:rgb(252,236,15);background-image:url(silla-de-ruedas-2.13eec002c9733c8b.png);background-size:80px;background-repeat:no-repeat;background-position-x:95%;background-position-y:20%}.favorito[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){background:rgb(252,236,15)}.libre[_ngcontent-%COMP%]{background:rgb(2,219,129)}.libre[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){background:rgb(2,219,129)}.ocupado[_ngcontent-%COMP%]{background:rgb(216,101,80)}.ocupado[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){background:rgb(216,101,80)}']}),c})()}];let k=(()=>{var t;class c{}return(t=c).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.Bz.forChild(C),g.Bz]}),c})();var E=l(6770);let q=(()=>{var t;class c{}return(t=c).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[p.ez,m.u5,a.Pc,k,E.w]}),c})()}}]);