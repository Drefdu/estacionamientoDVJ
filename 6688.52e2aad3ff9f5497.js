"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6688],{6688:(x,m,s)=>{s.r(m),s.d(m,{PerfilPageModule:()=>A});var f=s(6814),g=s(95),r=s(6728),d=s(1379),u=s(5861),e=s(5678),_=s(183),p=s(6751),h=s(459),Z=s(6075);function b(t,l){if(1&t){const a=e.EpF();e.ynx(0),e.TgZ(1,"ion-item",5)(2,"ion-label"),e._uU(3,"Nueva Contrase\xf1a:"),e.qZA(),e._UZ(4,"ion-input",12,13),e.qZA(),e.TgZ(6,"ion-item",5)(7,"ion-label"),e._uU(8,"Confirmar Contrase\xf1a: "),e.qZA(),e._UZ(9,"ion-input",12,14),e.qZA(),e.TgZ(11,"ion-button",15),e.NdJ("click",function(){e.CHM(a);const n=e.MAs(5),i=e.MAs(10),c=e.oxw();return e.KtG(c.cambiarPassword(n,i))}),e._uU(12,"Guardar Cambios - Save Changes"),e.qZA(),e.BQk()}}function P(t,l){if(1&t){const a=e.EpF();e.ynx(0),e.TgZ(1,"ion-item",5)(2,"ion-label"),e._uU(3,"Nuevo Correo:"),e.qZA(),e._UZ(4,"ion-input",16,17),e.qZA(),e.TgZ(6,"ion-button",15),e.NdJ("click",function(){e.CHM(a);const n=e.MAs(5),i=e.oxw();return e.KtG(i.cambiarCorreo(n))}),e._uU(7,"Guardar Cambios - Save Changes"),e.qZA(),e.BQk()}}function v(t,l){if(1&t){const a=e.EpF();e.ynx(0),e.TgZ(1,"ion-item",5)(2,"ion-label"),e._uU(3,"Nuevo turno:"),e.qZA(),e.TgZ(4,"ion-select",18),e.NdJ("ngModelChange",function(n){e.CHM(a);const i=e.oxw();return e.KtG(i.turno=n)}),e.TgZ(5,"ion-select-option",19),e._uU(6,"Matutino"),e.qZA(),e.TgZ(7,"ion-select-option",20),e._uU(8,"Vespertino"),e.qZA()()(),e.TgZ(9,"ion-button",15),e.NdJ("click",function(){e.CHM(a);const n=e.oxw();return e.KtG(n.cambiarTurno())}),e._uU(10,"Guardar Cambios - Save Changes"),e.qZA(),e.BQk()}if(2&t){const a=e.oxw();e.xp6(4),e.Q6J("ngModel",a.turno)}}function T(t,l){if(1&t){const a=e.EpF();e.ynx(0),e.TgZ(1,"ion-item",5)(2,"ion-label"),e._uU(3,"Nuevo nombre:"),e.qZA(),e._UZ(4,"ion-input",21,22),e.qZA(),e.TgZ(6,"ion-button",15),e.NdJ("click",function(){e.CHM(a);const n=e.MAs(5),i=e.oxw();return e.KtG(i.cambiarNombre(n))}),e._uU(7,"Guardar Cambios - Save Changes"),e.qZA(),e.BQk()}}const C=[{path:"",component:(()=>{var t;class l{constructor(o,n,i,c){this.logedo=o,this.database=n,this.router=i,this.cookieService=c,this.selectedOption="",this.turno="",this.user={},this.id=""}ngOnInit(){this.id=this.cookieService.get("user"),console.log(this.id),this.getUsuario()}updateForm(){}cambiarNombre(o){var n=this;return(0,u.Z)(function*(){(yield n.database.updateUsuario({nombre:o.value},n.user._id)).subscribe(i=>{console.log("cambio hecho"),window.location.reload()},i=>{console.log(i)})})()}cambiarPassword(o,n){var i=this;return(0,u.Z)(function*(){o.value==n.value&&(yield i.database.updateUsuario({password:o.value},i.user._id)).subscribe(c=>{console.log("cambio hecho"),i.cookieService.delete("user","/"),i.cookieService.delete("logeado","/"),i.router.navigate(["/signin"])},c=>{console.log(c)})})()}cambiarCorreo(o){var n=this;return(0,u.Z)(function*(){(yield n.database.updateUsuario({email:o.value},n.user._id)).subscribe(i=>{console.log("cambio hecho"),window.location.reload()},i=>{console.log(i)})})()}cambiarTurno(){var o=this;return(0,u.Z)(function*(){(yield o.database.updateUsuario({turno:o.turno},o.user._id)).subscribe(n=>{console.log("cambio hecho"),window.location.reload()},n=>{console.log(n)})})()}getUsuario(){var o=this;return(0,u.Z)(function*(){(yield o.database.getUsuario(o.id)).subscribe(n=>{o.user=n.usuario},n=>{console.log(n)})})()}}return(t=l).\u0275fac=function(o){return new(o||t)(e.Y36(_.Q),e.Y36(p.k),e.Y36(d.F0),e.Y36(h.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-perfil"]],decls:37,vars:8,consts:[["id","main-content",1,"ion-page"],["color","principal"],["slot","start"],["color","light"],[1,"form-container"],[1,"form-item"],["placeholder","Select option - Selecciona una opci\xf3n",3,"ngModel","ionChange","ngModelChange"],["value","name"],["value","email"],["value","password"],["value","shift"],[4,"ngIf"],["type","password"],["newPass",""],["confirmPass",""],["expand","full",1,"submit-button",3,"click"],["type","email"],["email",""],[3,"ngModel","ngModelChange"],["value","Matutino"],["value","Vespertino"],["type","text"],["nombre",""]],template:function(o,n){1&o&&(e._UZ(0,"app-menu"),e.TgZ(1,"div",0)(2,"ion-header")(3,"ion-toolbar",1)(4,"ion-buttons",2),e._UZ(5,"ion-menu-button",3),e.qZA(),e.TgZ(6,"ion-title"),e._uU(7,"Ajustes de Usuario - User Settings"),e.qZA()()(),e.TgZ(8,"ion-content")(9,"div",4)(10,"h3"),e._uU(11,"Datos de la cuenta"),e.qZA(),e.TgZ(12,"h4"),e._uU(13),e.qZA(),e.TgZ(14,"h4"),e._uU(15),e.qZA(),e.TgZ(16,"h4"),e._uU(17),e.qZA(),e.TgZ(18,"h3"),e._uU(19,"Opciones de cuenta"),e.qZA(),e.TgZ(20,"ion-list")(21,"ion-item",5)(22,"ion-label"),e._uU(23,"Seleccionar cambio:"),e.qZA(),e.TgZ(24,"ion-select",6),e.NdJ("ionChange",function(){return n.updateForm()})("ngModelChange",function(c){return n.selectedOption=c}),e.TgZ(25,"ion-select-option",7),e._uU(26,"Cambiar nombre"),e.qZA(),e.TgZ(27,"ion-select-option",8),e._uU(28," Cambiar correo"),e.qZA(),e.TgZ(29,"ion-select-option",9),e._uU(30,"Cambiar contrase\xf1a"),e.qZA(),e.TgZ(31,"ion-select-option",10),e._uU(32,"Cambiar el turno"),e.qZA()()(),e.YNc(33,b,13,0,"ng-container",11)(34,P,8,0,"ng-container",11)(35,v,11,1,"ng-container",11)(36,T,8,0,"ng-container",11),e.qZA()()()()),2&o&&(e.xp6(13),e.hij("Nombre: ",n.user.nombre,""),e.xp6(2),e.hij("Email: ",n.user.email,""),e.xp6(2),e.hij("Turno: ",n.user.turno,""),e.xp6(7),e.Q6J("ngModel",n.selectedOption),e.xp6(9),e.Q6J("ngIf","password"===n.selectedOption),e.xp6(1),e.Q6J("ngIf","email"===n.selectedOption),e.xp6(1),e.Q6J("ngIf","shift"===n.selectedOption),e.xp6(1),e.Q6J("ngIf","name"===n.selectedOption))},dependencies:[f.O5,g.JJ,g.On,r.YG,r.Sm,r.W2,r.Gu,r.pK,r.Ie,r.Q$,r.q_,r.fG,r.t9,r.n0,r.wd,r.sr,r.QI,r.j9,Z.M],styles:["h3[_ngcontent-%COMP%]{text-align:justify;color:#000;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}h4[_ngcontent-%COMP%]{text-align:justify;color:#646363;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}ion-list[_ngcontent-%COMP%]{background-color:#3881ff00}.form-container[_ngcontent-%COMP%]{padding:40px}.form-item[_ngcontent-%COMP%]{--background: #6b7994;font-size:17px;margin-bottom:15px}.submit-button[_ngcontent-%COMP%]{--background: #3880ff;--color: #fff}ion-content[_ngcontent-%COMP%]{--background: #DFF3E8}"]}),l})()}];let U=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(C),d.Bz]}),l})();var M=s(6770);let A=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[f.ez,g.u5,r.Pc,U,M.w]}),l})()}}]);